(window.webpackJsonp=window.webpackJsonp||[]).push([[74],{825:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKMAAABCCAIAAAC0FvHwAAAIaUlEQVR4nO2dbUxb1xnH/zYmsIAuTj1qr40ZmLWDELBVEGnJ5FhZZ1Usjtt+gGZeNQl3FY40hqUxyaBO+QJWkmpBTCrRFqNKkRuRD21t2nywtIq6Ck3IrNkLIVEUYyLnRS5zcC5YXRPsuw/XNjZgQ/BbnHt/n+59zrnnPObPOfe8+TFHJBKBhQFw8+0AS45glWYKrNJMgZezmkRNUg539R/rh6WlB+5bOaudJUdKV73W9quh476r/6HCYQCl/F3/Cyx+2fuHVM8olCq9wKk+591OhVK5pc1/avTa5LbcfRbJitKV9fW8ktJ4S/N77wdu33aMnaFvX3ilRdTUlI2qWZKxidJlgl3wLwY3StklwKJ/oxTgQP8HFbvFsVsRFV7gcENA+6kRAD+mwg843Hsu5/a9ZnlyUivd9se/9tXOjPactCVKWqYcOK2TuE5qP5xKfOA5SW0JQfBKSv915u/fXZuhjYp9+/67uDhz8yaAYh7v1aYmH0mW/0K+JQe1RzSHqwHAc8Hc6wIgHjbUXDXaTdHUxllzrwuQyi3tYgAIOBM7bfGwQV4zbz/ll8W9C4gBnapyii6QIaRWemro6Oix07qRPsSJXaYcOK2VuEZ71soMQPLL16W/+S2Alvfej1VQRYXugvtGeOVmUfHPwiv3wPF/bKIoagvuVcsbL5jV56BQqvRtDQpXkveusOFsO6xGs2ltAjGgkwscE2obCSGh7arRwmsCIBTXwWlikMzYfJYVtB3rHvU26Ub6lGUAUKbsG9FKXKaeD20b9dzeS9+useyiwgBWOHiZCr39+Pufh1ZkVKhaKtuae/N2utlNuuZIvqA2WTYf6UeFSLjWvP+IqjVgf9dGAoDPeyMQyaOQSuD2MmywtoX5dNB2rHvUvVc70nfoUN+Itu56MpkBfDd77VFwOd5SQlF+cF4NPS6hqLucoi+LS+e4vMqXXuZwOE/ip4/0p0r29o7N1XVpLAbVQExvvqy12mtdHbqTF92okxIAsb8WN1zkk1T/DLC1lZOgbeioyb23O7XMAKhQ6M705XjLi1T4jZUfdodDQXBuFRWJqFAQeKGsrOjJlN4U37V3jWb12Fxdl1xLWwJOq6PisK5BEc0yaXP6a8UKobgOcxd9Ga29ANjyGlnQNvS7Q29pU8lM4710Kf62MhwCsMDh2opLfZyiO5yiRQ7XzeUl1VmhVFmOiJOlAg8XAuJGKQBAKqcHa6skduNu24Q1INOviu29GpC8eVDin2LgPDvz8+k705dAUYg22Z2gANzjFj2Ky7PM4fxa/OJCW9vU1PpR3SaQg1NeS7vG0g7M263z4kYAwoazXTICAOC5YB70AdENOtO5CZFOpTcIao12E2CafWhph/VcWp+wMOFkY9fy+Ya9RcXF9PXf/vIBUV5+2eX6yPwJAD5BLAeDK6GQWnHgyjffOByOjNeeEqncssezzXW3wiYra2SxmTSACYtFo9FcvXLlvvPfAO4DVVVVNbt335ubm5mZSV5GViAG2iqmP2WgzMhSm46Hy+W2tLRcv359aWkpqxVtgkKp0jcTpGMiMuliHFlXmuUpgd2fZgqs0kyBVZopsEozBVZppsAqzRRYpZlC7s6GJqO+iojfwfz+UchzfzlFfpbtkZ7S+3pGteWf6Yc23eBKxisvPffnd+pv3V16vBIGsLOUFw5ThjPMOg2SG9JT+rLps9dP6z7qx9EtiV3zk/If7SiKt7xzsOrB0qNP/nmbvv2pcKe86fm0XGJJQvqroZFjZalPKNAYfy+rEZWlzuO5v8y26WyQ/ogsaBvsNt2o1478SbmJiCz5JCNj76DtZA8ttmLzzCz5IaOzLN6OTJbGklEyonSZsm9E1+Q1HR1i3vGsgiF9pSMyj3Yf2/ZciyUHpKk0K3PBkJ7Sr+k697IyFwY5PV20fuVkPexqaJbI6bp3OhKOfPGFJO52znKo5x/pe8Qg2BODTIHdtWQKrNJMgVWaKbBKMwVWaabAKs0UWKWZQk5XTjo7Ozs6OtbbHQ7H8ePHQ6FQLp1hGjldOens7AQwPj6+xtjR0eFwOE6cOLGyspIzZ5jG09J7Nzc39/f383j5P5WcWcTDBs2wNN9eAE+P0gCkUqlKpcq3FxnG22uMRDLUHtGcVRL58yT/bWh8fJzuzzs7O3fsYM8nZYv8K71lpHJLm9/qlhxuJgDE4lgolCq9YG6aL2vle61Gu4kOFAoA5PTYxODGcceIAZ2qlY+4cmJPAfN2OuRNXMl0OFLvfvqpWGhSqdzS5p8OyFqrAXitRjsiUU5pTwCIhw2yhbGv8baqlQ9UqyzNsaQc8xT13luAL1Pga7XRrDba/c2q1fdftQSfmtVGuwnEgE6OC2b1mih0CRADOlWde4Iu50bEIhc4aIvZCvlqNxspeWIaMr3hQOxaG8vAl1XOmtVGs3VefNigaYxdJ4RUIwdHzdZ5kI4JdX5kRqEpHXCaIvFovJ87yJo90b/mvDPSdqWyVjg/p78YEAsUKpVbDBqLQWMxyLWIhoeNljNoI+mnohaYvnKiVqxIKJm86CbjrwlBRcwlujrTrDfhmk88ZSeiC6j3TmTS91Av2CiBL9MbZPronUcEuOzq+C+FiAREwLP2EGuAXLX4SD+/phZwZ9ThfFOwSiuEFaT/4QYJ0bdsKviEAphMZhESgoD/2ZIZhdZ782Vv0u9mYYO2eaN4vi6Pp1q+yfzV5fHwYy9a8YCSSLRAe1D2LMaELqw2HXAu7NFY2oFYfNC1eHvHnGe7InnWxe+P5jHahw0qS3OkHICMt2QpOp3pK6eiK49j7/yvhm4xlf25nDTJdZvu6OjYcJOD5vz587l0hlHkVOnYchhL7mFPATOFwhp7s2wfVmmmwCrNFP4PsWRf2BU9LugAAAAASUVORK5CYII="},826:function(s,t,a){s.exports=a.p+"assets/img/image-20240930084353221.872a37a7.png"},966:function(s,t,a){"use strict";a.r(t);var e=a(3),n=Object(e.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h2",{attrs:{id:"git提交前代码规范检查"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git提交前代码规范检查"}},[s._v("#")]),s._v(" Git提交前代码规范检查")]),s._v(" "),t("p",[s._v("​\t在前端项目开发中，规范 Git 提交信息是常用的手段，使用带有 git hooks 功能的 husky 可以确保团队成员都遵循 ESLint 规则，且不会将不符合规范的代码推送到 Git 仓库。")]),s._v(" "),t("p",[s._v("​\tgit hooks 是 Git 内置的功能，它会在执行 Git 命令之前（或之后）进行一些其它操作。例如 ESLint 规则校验。husky 依靠 git hooks 来触发 ESLint 规则校验，并确保团队成员提交和推送代码到 Git 之前的代码无任何问题。")]),s._v(" "),t("h2",{attrs:{id:"git-hooks是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#git-hooks是什么"}},[s._v("#")]),s._v(" git hooks是什么?")]),s._v(" "),t("p",[s._v("​\tgit hooks 是 Git 在触发事件（例如：commit、push、receive）之前或之后执行的一组脚本，当在项目中使用 git init 初始化 Git 时就会自动添加 git hooks，我们可以在 "),t("code",[s._v("/.git/hooks")]),s._v(" 文件夹下找到每个事件的示例文件。")]),s._v(" "),t("h2",{attrs:{id:"husky是什么"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#husky是什么"}},[s._v("#")]),s._v(" husky是什么？")]),s._v(" "),t("p",[s._v("​\t注意，git hooks 不受版本控制，即不会提交到 Git 仓库中，我们添加到 "),t("code",[s._v("/.git/hooks")]),s._v(" 文件夹中的文件只会在本地。")]),s._v(" "),t("p",[s._v("​\t当团队成员克隆仓库时不会自动将我们自定义的 git hooks 下载到本地，使用 husky 可以确保每个团队成员都执行 hooks。husky 使 git hooks 更易于管理，因为我们不必手动编写代码，我们只需要在 husky 提供的配置文件中添加想要执行的命令，例如提交之前运行 ESLint，除此之外的一切都由 husky 处理。")]),s._v(" "),t("h2",{attrs:{id:"需要下载的插件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#需要下载的插件"}},[s._v("#")]),s._v(" 需要下载的插件")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("依赖")]),s._v(" "),t("th",[s._v("描述")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("husky")]),s._v(" "),t("td",[s._v("操作 git hooks的工具，更方便的管理 git hooks 脚本")])]),s._v(" "),t("tr",[t("td",[s._v("lint-staged")]),s._v(" "),t("td",[s._v("在提交之前进行 eslint 校验")])])])]),s._v(" "),t("h2",{attrs:{id:"_1、husky-操作-git-钩子的工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、husky-操作-git-钩子的工具"}},[s._v("#")]),s._v(" 1、husky（操作 git 钩子的工具）")]),s._v(" "),t("h3",{attrs:{id:"安装husky"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装husky"}},[s._v("#")]),s._v(" "),t("strong",[s._v("安装husky")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# "husky": "^9.1.6"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" --save-dev husky\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h3",{attrs:{id:"husky-init"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#husky-init"}},[s._v("#")]),s._v(" "),t("strong",[s._v("husky init")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" husky init\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("code",[s._v("init")]),s._v(" 命令简化了项目中的 husky 设置。它会在 "),t("code",[s._v(".husky/")]),s._v(" 中创建 pre-commit 脚本：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(825),alt:"image-20240930105931401"}})]),s._v(" "),t("p",[s._v("并更新 package.json 中的 prepare 脚本：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// package.json")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// ...其他代码")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"prepare"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"husky"')]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br")])]),t("p",[s._v("随后可根据你的工作流进行修改。")]),s._v(" "),t("h2",{attrs:{id:"_2、设置-git-hooks"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、设置-git-hooks"}},[s._v("#")]),s._v(" 2、设置 git hooks")]),s._v(" "),t("p",[s._v("husky 安装完成，并配置好脚本后，我们就可以进行 git hooks 的设置。")]),s._v(" "),t("p",[s._v("git hooks 让我们能够在git操作的特定命令发生时自动执行自定义的脚本，用来完成一些额外的事情。")]),s._v(" "),t("p",[s._v("而我们在 git 提交信息的规范中，一般常用的两个阶段是：pre-commit 和 commit-msg")]),s._v(" "),t("p",[s._v("除此以外，git hooks 还有多个阶段，可以在需要的时候启用，比如以下这些：")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("pre-receive：从本地版本完成一个推送后")])]),s._v(" "),t("li",[t("p",[s._v("prepare-commit-msg：信息准备完成后但编辑尚未启动")])]),s._v(" "),t("li",[t("p",[s._v("pre-push：push 之前执行")])]),s._v(" "),t("li",[t("p",[s._v("post-update：在工作区更新完成后执行")])]),s._v(" "),t("li",[t("p",[s._v("pre-rebase：在rebase操作之前执行")])])]),s._v(" "),t("h3",{attrs:{id:"pre-commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#pre-commit"}},[s._v("#")]),s._v(" pre-commit")]),s._v(" "),t("p",[s._v("​\thusky 工具会在根目录下生成 .husky 目录，保存有 husky 的基本配置。要想配置 git hooks，还得在这个目录下进行操作，可以采取下面两种方式。")]),s._v(" "),t("ol",[t("li",[s._v("我们可以在刚刚生产的 .husky 目录下的 pre-commit 文件中添加以下代码，注意无后缀名，默认生产的 pre-commit 有 pnpm test 内容，将其删除改成以下内容：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" run lint:eslint\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ol",{attrs:{start:"2"}},[t("li",[s._v("使用脚本命令生成"),t("code",[s._v("pre-commit")]),s._v("文件及其内容：")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# V9")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pnpm run lint:eslint"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" .husky/pre-commit\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("该脚本执行后，将在 .husky 目录下自动生成 pre-commit 文件（如果有则覆盖），并且写入对应的脚本命令：pnpm run lint:eslint，内容与上面的第一种方式一样。")]),s._v(" "),t("p",[s._v("完成以上操作后，当我们执行 git commit 命令时，就会自动执行eslint命令。除了eslint，我们也可以配置其他诸如 stylelint、prettier 等。")]),s._v(" "),t("h2",{attrs:{id:"_3-如果执行失败"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-如果执行失败"}},[s._v("#")]),s._v(" 3.如果执行失败")]),s._v(" "),t("p",[s._v("如下图：")]),s._v(" "),t("p",[t("img",{attrs:{src:a(826),alt:"image-20240930084353221"}})]),s._v(" "),t("p",[s._v("应该重新执行"),t("code",[s._v("pnpm exec husky init")]),s._v("，这个错误通常是因为 "),t("code",[s._v(".husky/pre-commit")]),s._v(" 脚本没有正确的执行权限或者文件格式不正确导致。")]),s._v(" "),t("h2",{attrs:{id:"_4-lint-staged"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-lint-staged"}},[s._v("#")]),s._v(" 4.lint-staged")]),s._v(" "),t("p",[s._v("使用 husky 后，ESLint会在项目中的每个文件上都运行，这是个非常糟糕的主意。因为在未更改的代码上运行ESLint可能会导致出乎预料的错误。")]),s._v(" "),t("p",[s._v("对于大型项目，在每个文件上运行ESLint可能会消耗大量的时间。同样，在旧项目中消耗时间解决ESLint抛出的问题而不是研发新功能，是没意义的事。")]),s._v(" "),t("p",[s._v("那么，我们如何只在我们更改的代码上运行 ESLint?")]),s._v(" "),t("h3",{attrs:{id:"安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" lint-staged "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-D")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"修改-pre-commit-文件内容"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#修改-pre-commit-文件内容"}},[s._v("#")]),s._v(" 修改 pre-commit 文件内容")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("pnpm")]),s._v(" run lint:lint-staged\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"在-package-json-文件中添加-scripts-脚本"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-package-json-文件中添加-scripts-脚本"}},[s._v("#")]),s._v(" 在 package.json 文件中添加 scripts 脚本")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"scripts"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//其他代码省略")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"lint:lint-staged"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"lint-staged"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("h4",{attrs:{id:"新增-lint-staged-config-cjs-文件"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#新增-lint-staged-config-cjs-文件"}},[s._v("#")]),s._v(" 新增 lint-staged.config.cjs 文件")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[s._v("module.exports = "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.{js,jsx,ts,tsx}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"{!(package)*.json,*.code-snippets,.!(browserslist)*rc}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write--parser json"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"package.json"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.vue"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eslint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.{scss,less,styl,html}"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"stylelint --fix"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"*.md"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"prettier --write"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(";\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br")])]),t("p",[s._v("如果仅仅只是简单配置一下 lint-staged，也可以直接在 package.json 文件中进行配置")]),s._v(" "),t("blockquote",[t("p",[t("code",[s._v(".cjs")]),s._v(" 文件其实就是"),t("code",[s._v("js")]),s._v("文件，只是更加明显的说明这是一个模块文件，并且模块声明遵循的是"),t("code",[s._v("CommonJS的标准")]),s._v("。因此同理，也有 "),t("code",[s._v(".mjs")]),s._v(" 的文件，表明这个文件是遵循"),t("code",[s._v("ESM标准")]),s._v("（ECMAScript Modules）的模块文件。")])])])}),[],!1,null,null,null);t.default=n.exports}}]);